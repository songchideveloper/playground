/**
 * Used '/xxxx' in the app.use()
 * Created by chi on 3/3/16.
 */



var connect = require('connect');
var app = connect();

var logger = function(req, res, next) {
    console.log(req.method, req.url);

    next(); // move to next middleware
}

var helloConnect = function(req, res, next) {
    res.setHeader('Content-type', 'text/plain');
    res.write('Hello Connect');
    res.end();
};


var goodbyeWorld = function(req, res, next) {
    res.setHeader('Content-type', 'text/plain');
    res.end('Goodbye world!');
};


app.use(logger);  // Put the middleware into registry
app.use('/hello', helloConnect);  // Put the middleware into registry
app.use('/goodbye', goodbyeWorld);

app.listen(3000, function(){
    console.log('Listening http://localhost:3000');
});